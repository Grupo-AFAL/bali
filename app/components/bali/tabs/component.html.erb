<%= tag.div data: { controller: 'tabs' } do %>
  <%= tag.div **@options do %>
    <ul>
      <% tabs.each_with_index do |tab, index| %>
        <%= tag.li data: { 'tab-index': index,
                           'tab-src': tab.src,
                           'tab-reload-on-click': tab.reload_on_click,
                            action: 'click->tabs#open' },
                   class: class_names('is-active': tab.active) do %>

          <%= tag.a do %>
            <%= render Bali::Icon::Component.new(tab.icon) if tab.icon %>
            <%= tag.span { tab.title } %>
          <% end %>
        <% end %>
      <% end %>
    </ul>
  <% end %>

  <div class="tabs-content">
    <% tabs.each_with_index do |tab, index| %>
      <%= tag.div **tab.options, data: { 'content-index': index } do %>
        <%= tab %>
      <% end %>
    <% end %>
  </div>
<% end %>
